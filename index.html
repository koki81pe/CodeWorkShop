<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeWorkShop</title>
  <?!= include('style'); ?>
</head>
<body>
  <div class="container">
    <!-- Header con botÃ³n de instrucciones -->
    <div class="main-header">
      <div class="header-content">
        <h1>ğŸ”§ CodeWorkShop</h1>
        <p class="subtitle">ModificaciÃ³n modular y quirÃºrgica de cÃ³digo</p>
      </div>
      <div class="header-actions">
        <button class="btn-secondary" onclick="copiarInstruccionesIA()" 
                title="Copia las instrucciones para entrenar IAs en el formato de modulaciÃ³n">
          ğŸ“‹ Copiar Instrucciones para IA
        </button>
      </div>
    </div>

    <!-- SecciÃ³n de carga de cÃ³digo -->
    <div class="section">
      <h2>1. Cargar CÃ³digo Original</h2>
      <textarea id="codigoOriginal" 
                class="code-area" 
                placeholder="Pega aquÃ­ tu cÃ³digo con mÃ³dulos MOD-XXX..."></textarea>
      <button class="btn-primary" onclick="analizarModulos()">
        ğŸ” Analizar MÃ³dulos
      </button>
    </div>

    <!-- Lista de mÃ³dulos detectados -->
    <div class="section" id="seccionModulos" style="display:none;">
      <h2>2. Seleccionar MÃ³dulo a Modificar</h2>
      <div id="listaModulos" class="modulo-list"></div>
    </div>

    <!-- CÃ³digo del mÃ³dulo seleccionado -->
    <div class="section" id="seccionModuloActual" style="display:none;">
      <h2>3. CÃ³digo Actual del MÃ³dulo</h2>
      <textarea id="moduloActual" 
                class="code-area" 
                readonly></textarea>
    </div>

    <!-- Nuevo cÃ³digo del mÃ³dulo -->
    <div class="section" id="seccionNuevoModulo" style="display:none;">
      <h2>4. Nuevo CÃ³digo del MÃ³dulo</h2>
      <textarea id="nuevoModulo" 
                class="code-area" 
                placeholder="Pega aquÃ­ el nuevo cÃ³digo del mÃ³dulo MOD-XXX..."></textarea>
      <button class="btn-primary" onclick="aplicarCambio()">
        âœ… Aplicar Cambio
      </button>
    </div>

    <!-- CÃ³digo resultante -->
    <div class="section" id="seccionResultado" style="display:none;">
      <h2>5. CÃ³digo Resultante</h2>
      <textarea id="codigoResultante" 
                class="code-area" 
                readonly></textarea>
      <button class="btn-secondary" onclick="copiarResultado()">
        ğŸ“‹ Copiar CÃ³digo
      </button>
      <button class="btn-secondary" onclick="reiniciar()">
        ğŸ”„ Nueva ModificaciÃ³n
      </button>
    </div>

    <!-- Toast de notificaciones -->
    <div id="toast" class="toast"></div>

    <!-- Loading overlay -->
    <div id="loading" class="loading-overlay">
      <div class="spinner"></div>
      <p>Procesando...</p>
    </div>
  </div>

  <?!= include('scripts'); ?>
</body>
</html>
