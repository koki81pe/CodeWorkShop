<!-- MOD-001: ENCABEZADO [INICIO] -->
<!--
******************************************
PROYECTO: CodeWorkShop
ARCHIVO: index.html
VERSIÃ“N: 01.22
FECHA: 09/02/2026 14:00 (UTC-5)
******************************************
-->
<!-- MOD-001: FIN -->

<!-- MOD-002: APERTURA HTML [INICIO] -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeWorkShop</title>
  <?!= include('style'); ?>
</head>
<body>
<!-- MOD-002: FIN -->

<!-- MOD-003: CONTAINER PRINCIPAL [INICIO] -->
<div class="container">
<!-- MOD-003: FIN -->

<!-- MOD-004: HEADER [INICIO] -->
<div class="main-header">
  <div class="header-content">
    <h1>ğŸ”§ CodeWorkShop</h1>
    <p class="subtitle">ModificaciÃ³n modular y quirÃºrgica de cÃ³digo</p>
  </div>
  <div class="header-actions">
    <button class="btn-secondary" onclick="copiarUrlPdfEstandar()"
            title="Copia la URL del PDF del estÃ¡ndar">
      ğŸ”— Copiar URL
    </button>
    <button class="btn-secondary" onclick="copiarInstruccionesIA()"
            title="Copia el estÃ¡ndar CodeWorkShop para entrenar IAs">
      ğŸ“‹ Copiar EstÃ¡ndar
    </button>
  </div>
</div>
<!-- MOD-004: FIN -->

<!-- MOD-005: SECCIÃ“N CARGA DE CÃ“DIGO [INICIO] -->
<div class="section">
  <div class="section-header">
    <h2>1. Cargar CÃ³digo Original</h2>
    <button class="btn-collapse" id="btnCollapseSec1" onclick="toggleSeccion1()">
      â–¼
    </button>
  </div>
  <div id="contenidoSec1" class="collapsible-content">
    <textarea id="codigoOriginal"
              class="code-area"
              placeholder="Pega aquÃ­ tu cÃ³digo con mÃ³dulos MOD-XXX..."></textarea>
  </div>
  <div class="button-group">
    <button class="btn-primary" onclick="analizarModulos('multiMod')">
      ğŸ”„ Swap MOD
    </button>
    <button class="btn-primary" onclick="analizarModulos('nuevoMod')">
      âœ¨ Swap+Add
    </button>
    <button class="btn-info" onclick="reenumerarCodigo()"
            title="Reenumera los mÃ³dulos desde el primer intermedio detectado">
      # Renumber
    </button>
    <button class="btn-danger" onclick="analizarModulos('eliminarMod')">
      ğŸ—‘ï¸ Delete
    </button>
  </div>
</div>
<!-- MOD-005: FIN -->

<!-- MOD-006: SECCIÃ“N LISTA DE MÃ“DULOS [INICIO] -->
<div class="section" id="seccionModulos" style="display:none;">
  <div class="section-header">
    <h2 id="tituloSeccionModulos">2. Seleccionar MÃ³dulo a Modificar</h2>
    <button class="btn-collapse" id="btnCollapseModulos" onclick="toggleModulos()">
      â–¼
    </button>
  </div>
  <div id="listaModulos" class="modulo-list"></div>
  
  <!-- Controles de eliminaciÃ³n (ocultos por defecto) -->
  <div id="controlesEliminar" class="eliminar-controls" style="display:none;">
    <div class="eliminar-checkbox-wrapper">
      <input type="checkbox" id="checkReenumEliminar" />
      <label for="checkReenumEliminar">Reenumerar</label>
    </div>
    <button class="btn-danger" onclick="confirmarEliminacion()" style="width:100%;">
      Confirmar EliminaciÃ³n
    </button>
  </div>
</div>
<!-- MOD-006: FIN -->

<!-- MOD-007: SECCIÃ“N CÃ“DIGO ACTUAL [INICIO] -->
<div class="section" id="seccionModuloActual" style="display:none;">
  <div class="section-header">
    <h2>3. CÃ³digo Actual del MÃ³dulo</h2>
    <button class="btn-collapse" id="btnCollapseSec3" onclick="toggleSeccion3()">
      â–¼
    </button>
  </div>
  <div id="contenidoSec3" class="collapsible-content">
    <textarea id="moduloActual"
              class="code-area"
              readonly></textarea>
  </div>
</div>
<!-- MOD-007: FIN -->

<!-- MOD-008: SECCIÃ“N NUEVO CÃ“DIGO [INICIO] -->
<div class="section" id="seccionNuevoModulo" style="display:none;">
  <div class="section-header">
    <h2>4. Nuevo CÃ³digo del MÃ³dulo</h2>
    <button class="btn-collapse" id="btnCollapseSec4" onclick="toggleSeccion4()">
      â–¼
    </button>
  </div>
  <div id="contenidoSec4" class="collapsible-content">
    <!-- Textarea para Multi MOD y Agregar MOD (modo mÃºltiple) -->
    <div id="areaMultiMod">
      <textarea id="multiModulo"
                class="code-area"
                placeholder="Pega aquÃ­ uno o mÃºltiples mÃ³dulos MOD-XXX...&#10;&#10;Cada mÃ³dulo completo con sus delimitadores [INICIO] y FIN."></textarea>
    </div>
  </div>
  
  <!-- ğŸ†• Controles de aplicaciÃ³n con checkbox de reenumeraciÃ³n -->
  <div class="aplicar-controls">
    <!-- Checkbox de reenumeraciÃ³n (solo visible en modo Agregar MOD) -->
    <div id="checkboxReenumAgregar" class="agregar-checkbox-wrapper" style="display:none;">
      <input type="checkbox" id="checkReenumAgregar" />
      <label for="checkReenumAgregar">Reenumerar despuÃ©s de agregar</label>
    </div>
    
    <button class="btn-primary" onclick="aplicarCambio()">
      âœ… Aplicar Cambio
    </button>
  </div>
</div>
<!-- MOD-008: FIN -->

<!-- MOD-009: SECCIÃ“N RESULTADO [INICIO] -->
<div class="section" id="seccionResultado" style="display:none;">
  <div class="section-header">
    <h2>5. CÃ³digo Resultante</h2>
    <button class="btn-collapse" id="btnCollapseSec5" onclick="toggleSeccion5()">
      â–¼
    </button>
  </div>
  <div id="contenidoSec5" class="collapsible-content">
    <textarea id="codigoResultante"
              class="code-area"
              readonly></textarea>
  </div>
  <div class="button-group">
    <button class="btn-secondary" onclick="copiarResultado()">
      ğŸ“‹ Copiar CÃ³digo
    </button>
    <button class="btn-secondary" onclick="reiniciar()">
      ğŸ”„ Nueva ModificaciÃ³n
    </button>
  </div>
</div>
<!-- MOD-009: FIN -->

<!-- MOD-010: NOTIFICACIONES, LOADING Y MODAL [INICIO] -->
<div id="toast" class="toast"></div>

<div id="loading" class="loading-overlay">
  <div class="spinner"></div>
  <p>Procesando...</p>
</div>

<div id="modalConfirm" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header" id="modalTitle">Confirmar AcciÃ³n</div>
    <div class="modal-body" id="modalMessage"></div>
    <div class="modal-actions">
      <button class="btn-secondary" onclick="cerrarModal()">Cancelar</button>
      <button class="btn-danger" id="modalConfirmBtn" onclick="confirmarModal()">Confirmar</button>
    </div>
  </div>
</div>
<!-- MOD-010: FIN -->

<!-- MOD-011: CIERRE CONTAINER [INICIO] -->
</div>
<!-- MOD-011: FIN -->

<!-- MOD-012: CÃ“DIGO DE CIERRE [INICIO] -->
<?!= include('scripts'); ?>
</body>
</html>
<!-- MOD-012: FIN -->

<!-- MOD-099: NOTAS [INICIO] -->
<!--
DESCRIPCIÃ“N:
PÃ¡gina principal (contenedor UI) de CodeWorkShop.
Interfaz con 4 botones principales: Swap MOD, Swap+Add, Renumber y Delete.

VERSIÃ“N: 01.21
- Actualizado nombres de botones: Multi MOD â†’ Swap MOD, Agregar MOD â†’ Swap+Add, Eliminar MOD â†’ Delete
- Reubicado botÃ³n Renumber del header a la secciÃ³n de botones principales (entre Swap+Add y Delete)
- Removido botÃ³n Reenumerar del header (MOD-004)
- Agregado botÃ³n Renumber en button-group de MOD-005
- Conservada toda la funcionalidad de checkbox de reenumeraciÃ³n en Secciones 2 y 4

ESTÃNDAR:
- SOPORTE COMPLETO CodeWorkShop v3

INTEGRACIÃ“N CON BACKEND:
- Compatible con backend code.gs v01.67+
- Swap MOD (Multi MOD): reemplazarMultiplesModulos()
- Swap+Add (Agregar MOD): agregarModuloNuevo() v6.0 (con reenumeraciÃ³n)
- Delete (Eliminar MOD): eliminarModulos() (con reenumeraciÃ³n)
- Renumber: reenumerarModulosCompleto()

FLUJO DE TRABAJO:
1. Usuario carga cÃ³digo original
2. Selecciona modo: Swap MOD, Swap+Add o Delete
3. Ve lista de mÃ³dulos detectados
4. Para Swap+Add: opcionalmente marca checkbox de reenumeraciÃ³n
5. Pega mÃ³dulo(s) nuevo(s)
6. Backend procesa segÃºn modo (con o sin reenumeraciÃ³n)
7. Sistema muestra resultado final
8. Opcionalmente puede ejecutar Renumber independiente

DEPENDENCIAS:
- style.html v01.16+
- scripts.html v01.37+
- Backend code.gs v01.67+
-->
<!-- MOD-099: FIN -->
