<!-- MOD-001: ENCABEZADO [INICIO] -->
<!--
******************************************
PROYECTO: CodeWorkShop
ARCHIVO: index.html
VERSIÃ“N: 01.07
FECHA: 10/01/2026 15:50 (UTC-5)
******************************************
-->
<!-- MOD-001: FIN -->

<!-- MOD-002: APERTURA HTML [INICIO] -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeWorkShop</title>
  <?!= include('style'); ?>
</head>
<body>
<!-- MOD-002: FIN -->

<!-- MOD-003: CONTAINER PRINCIPAL [INICIO] -->
<div class="container">
<!-- MOD-003: FIN -->
  
<!-- MOD-004: HEADER [INICIO] -->
<div class="main-header">
  <div class="header-content">
    <h1>ğŸ”§ CodeWorkShop</h1>
    <p class="subtitle">ModificaciÃ³n modular y quirÃºrgica de cÃ³digo</p>
  </div>
  <div class="header-actions">
    <button class="btn-secondary" onclick="copiarInstruccionesIA()" 
            title="Copia el estÃ¡ndar CodeWorkShop para entrenar IAs">
      ğŸ“‹ Copiar EstÃ¡ndar
    </button>
    <button class="btn-secondary" onclick="abrirTests()"
            title="Ir a la pÃ¡gina de tests">
      ğŸ§ª Tests
    </button>
  </div>
</div>
<!-- MOD-004: FIN -->
  
<!-- MOD-005: SECCIÃ“N CARGA DE CÃ“DIGO [INICIO] -->
<div class="section">
  <h2>1. Cargar CÃ³digo Original</h2>
  <textarea id="codigoOriginal" 
            class="code-area" 
            placeholder="Pega aquÃ­ tu cÃ³digo con mÃ³dulos MOD-XXX..."></textarea>
  <button class="btn-primary" onclick="analizarModulos()">
    ğŸ” Analizar MÃ³dulos
  </button>
</div>
<!-- MOD-005: FIN -->
  
<!-- MOD-006: SECCIÃ“N LISTA DE MÃ“DULOS [INICIO] -->
<div class="section" id="seccionModulos" style="display:none;">
  <h2>2. Seleccionar MÃ³dulo a Modificar</h2>
  <div id="listaModulos" class="modulo-list"></div>
</div>
<!-- MOD-006: FIN -->
  
<!-- MOD-007: SECCIÃ“N CÃ“DIGO ACTUAL [INICIO] -->
<div class="section" id="seccionModuloActual" style="display:none;">
  <h2>3. CÃ³digo Actual del MÃ³dulo</h2>
  <textarea id="moduloActual" 
            class="code-area" 
            readonly></textarea>
</div>
<!-- MOD-007: FIN -->
  
<!-- MOD-008: SECCIÃ“N NUEVO CÃ“DIGO [INICIO] -->
<div class="section" id="seccionNuevoModulo" style="display:none;">
  <h2>4. Nuevo CÃ³digo del MÃ³dulo</h2>
  <textarea id="nuevoModulo" 
            class="code-area" 
            placeholder="Pega aquÃ­ el nuevo cÃ³digo del mÃ³dulo MOD-XXX..."></textarea>
  <button class="btn-primary" onclick="aplicarCambio()">
    âœ… Aplicar Cambio
  </button>
</div>
<!-- MOD-008: FIN -->
  
<!-- MOD-009: SECCIÃ“N RESULTADO [INICIO] -->
<div class="section" id="seccionResultado" style="display:none;">
  <h2>5. CÃ³digo Resultante</h2>
  <textarea id="codigoResultante" 
            class="code-area" 
            readonly></textarea>
  <button class="btn-secondary" onclick="copiarResultado()">
    ğŸ“‹ Copiar CÃ³digo
  </button>
  <button class="btn-secondary" onclick="reiniciar()">
    ğŸ”„ Nueva ModificaciÃ³n
  </button>
</div>
<!-- MOD-009: FIN -->
  
<!-- MOD-010: NOTIFICACIONES Y LOADING [INICIO] -->
<div id="toast" class="toast"></div>
<div id="loading" class="loading-overlay">
  <div class="spinner"></div>
  <p>Procesando...</p>
</div>
<!-- MOD-010: FIN -->

<!-- MOD-011: CIERRE CONTAINER [INICIO] -->
</div>
<!-- MOD-011: FIN -->
  
<!-- MOD-012: CÃ“DIGO DE CIERRE [INICIO] -->
  <?!= include('scripts'); ?>
</body>
</html>
<!-- MOD-012: FIN -->

<!-- MOD-013: NOTAS [INICIO] -->
<!--
DESCRIPCIÃ“N:
PÃ¡gina principal de CodeWorkShop para modificaciÃ³n modular de cÃ³digo.
Permite cargar cÃ³digo, analizar mÃ³dulos, seleccionar y reemplazar mÃ³dulos
especÃ­ficos de forma quirÃºrgica sin afectar el resto del archivo.

CAMBIOS EN v01.07 (CRÃTICO):
- Cumple con estÃ¡ndar CodeWorkshop v2.2 para archivos HTML
- TODOS los comentarios usan sintaxis HTML: 
- MOD-003: Container principal separado en su propio mÃ³dulo
- MOD-011: Cierre del container en mÃ³dulo separado
- MOD-012: CÃ³digo de cierre con includes agregado
- MOD-013: MÃ³dulo de NOTAS agregado
- Sin comentarios // en ninguna parte del archivo
- Compatible con detecciÃ³n de tipo de archivo (GS/HTML) del backend v01.07

DEPENDENCIAS:
- MOD-002: Requiere archivos style.html y scripts.html vÃ­a include()
- MOD-004: BotÃ³n "Copiar EstÃ¡ndar" llama a copiarInstruccionesIA() de scripts.html
  que obtiene el estÃ¡ndar desde Google Doc (code.gs MOD-012)
- MOD-004: BotÃ³n "Tests" llama a abrirTests() de scripts.html
- MOD-005: analizarModulos() de scripts.html llama a parsearModulos() del backend
  que ahora detecta automÃ¡ticamente el tipo de archivo (GS/HTML)
- MOD-006: listaModulos se llena dinÃ¡micamente mostrando badges de tipo de archivo
- MOD-008: aplicarCambio() llama a reemplazarModulo() del backend
- MOD-010: Elementos de UI (toast, loading) controlados por scripts.html
- Backend code.gs v01.07: Requiere funciones con detecciÃ³n automÃ¡tica de tipo

ADVERTENCIAS:
- El anÃ¡lisis de mÃ³dulos requiere cÃ³digo con formato MOD-XXX correcto
- El backend ahora detecta automÃ¡ticamente si es .GS o .HTML
- Las secciones se muestran/ocultan dinÃ¡micamente vÃ­a JavaScript
- Los textareas readonly no permiten ediciÃ³n manual
- El loading overlay cubre toda la pantalla cuando estÃ¡ activo
- El estÃ¡ndar se obtiene desde Google Doc, no desde archivo local

ESTRUCTURA DE MÃ“DULOS:
- MOD-001: Encabezado con metadata del archivo
- MOD-002: Apertura HTML con head y body
- MOD-003: Apertura del container principal
- MOD-004: Header con tÃ­tulo y botones de acciÃ³n
- MOD-005 a MOD-009: Secciones del flujo de trabajo
- MOD-010: Elementos de notificaciones y loading
- MOD-011: Cierre del container principal
- MOD-012: CÃ³digo de cierre con includes y tags HTML
- MOD-013: Notas y documentaciÃ³n (este mÃ³dulo)

FLUJO DE TRABAJO:
1. Usuario carga cÃ³digo en MOD-005
2. analizarModulos() envÃ­a cÃ³digo al backend
3. Backend detecta tipo (GS/HTML) y parsea mÃ³dulos
4. Sistema muestra mÃ³dulos con badge de tipo en MOD-006
5. Usuario selecciona mÃ³dulo, se muestra en MOD-007
6. Usuario pega nuevo cÃ³digo en MOD-008
7. aplicarCambio() valida y envÃ­a al backend
8. Backend reemplaza mÃ³dulo y actualiza versiÃ³n
9. Sistema muestra resultado en MOD-009

INTEGRACIÃ“N CON BACKEND v01.07:
- parsearModulos(): Recibe propiedad 'tipo' en cada mÃ³dulo ('gs' o 'html')
- Badges visuales muestran tipo de archivo de cada mÃ³dulo
- Mensajes de Ã©xito incluyen informaciÃ³n del tipo detectado
- Compatible con ambos formatos de comentarios (// para GS,  para HTML)

PRÃ“XIMAS MEJORAS:
- Agregar preview visual de cambios antes de aplicar
- Implementar validaciÃ³n de sintaxis en el cliente segÃºn tipo detectado
- Agregar soporte para deshacer/rehacer cambios
- Mejorar visualizaciÃ³n de diferencias entre versiones
- Cache del estÃ¡ndar para reducir llamadas a Google Docs
-->
<!-- MOD-013: FIN -->
